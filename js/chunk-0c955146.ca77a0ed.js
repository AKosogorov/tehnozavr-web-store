(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c955146"],{"11c1":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"content container"},[e("div",{staticClass:"content__top"},[e("VBreadcrumbs",{attrs:{"breadcrumbs-list":t.breadcrumbsList}}),e("h1",{staticClass:"content__title"},[t._v("Корзина")]),e("span",{staticClass:"content__info"},[t._v(t._s(t.contentInfoText))])],1),e("section",{staticClass:"cart"},[e("form",{staticClass:"cart__form form",on:{submit:function(a){return a.preventDefault(),t.sendOrder.apply(null,arguments)}}},[e("div",{staticClass:"cart__field"},[e("div",{staticClass:"cart__data"},[e("VInput",{attrs:{label:"ФИО",placeholder:"Введите ваше полное имя",error:t.formError.name},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}}),e("VInput",{attrs:{label:"Адрес доставки",placeholder:"Введите ваш адрес",error:t.formError.address},model:{value:t.formData.address,callback:function(a){t.$set(t.formData,"address",a)},expression:"formData.address"}}),e("VInput",{attrs:{label:"Телефон",placeholder:"Введите ваш телефон",type:"tel",error:t.formError.phone},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone",a)},expression:"formData.phone"}}),e("VInput",{attrs:{label:"Email",placeholder:"Введите ваш Email",type:"email",error:t.formError.email},model:{value:t.formData.email,callback:function(a){t.$set(t.formData,"email",a)},expression:"formData.email"}}),e("VTextarea",{attrs:{label:"Комментарий к заказу",placeholder:"Ваши пожелания",error:t.formError.comment},model:{value:t.formData.comment,callback:function(a){t.$set(t.formData,"comment",a)},expression:"formData.comment"}})],1),t._m(0)]),e("div",{staticClass:"cart__block"},[e("ul",{staticClass:"cart__orders"},t._l(t.products,(function(t,a){return e("OrderItem",{key:a,staticClass:"cart__order",attrs:{item:t}})})),1),e("div",{staticClass:"cart__total"},[t._m(1),e("p",[t._v(" Итого: "),e("b",[t._v(t._s(t.contentInfoText))]),t._v(" на сумму "),e("b",[t._v(t._s(t._f("numberFormat")(t.totalPrice))+" ₽")])])]),e("button",{staticClass:"cart__button button button--primery",attrs:{type:"submit"}},[t.isSending?e("Preloader",{staticClass:"loader--button-primary"}):e("span",[t._v("Оформить заказ")])],1)]),t.formErrorMessage?e("div",{staticClass:"cart__error form__error-block"},[e("h4",[t._v("Заявка не отправлена!")]),e("p",[t._v(t._s(t.formErrorMessage))])]):t._e()])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cart__options"},[e("h3",{staticClass:"cart__title"},[t._v("Доставка")]),e("ul",{staticClass:"cart__options options"},[e("li",{staticClass:"options__item"},[e("label",{staticClass:"options__label"},[e("input",{staticClass:"options__radio sr-only",attrs:{type:"radio",name:"delivery",value:"0",checked:""}}),e("span",{staticClass:"options__value"},[t._v(" Самовывоз "),e("b",[t._v("бесплатно")])])])]),e("li",{staticClass:"options__item"},[e("label",{staticClass:"options__label"},[e("input",{staticClass:"options__radio sr-only",attrs:{type:"radio",name:"delivery",value:"500"}}),e("span",{staticClass:"options__value"},[t._v(" Курьером "),e("b",[t._v("500 ₽")])])])])]),e("h3",{staticClass:"cart__title"},[t._v("Оплата")]),e("ul",{staticClass:"cart__options options"},[e("li",{staticClass:"options__item"},[e("label",{staticClass:"options__label"},[e("input",{staticClass:"options__radio sr-only",attrs:{type:"radio",name:"pay",value:"card"}}),e("span",{staticClass:"options__value"},[t._v(" Картой при получении ")])])]),e("li",{staticClass:"options__item"},[e("label",{staticClass:"options__label"},[e("input",{staticClass:"options__radio sr-only",attrs:{type:"radio",name:"pay",value:"cash"}}),e("span",{staticClass:"options__value"},[t._v(" Наличными при получении ")])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Доставка: "),e("b",[t._v("500 ₽")])])}],o=e("1da1"),n=e("5530"),l=(e("96cf"),e("9205")),i=e("4fdb"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VFormField",{attrs:{label:t.label,error:t.error}},["checkbox"===t.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{name:t.name,placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.dataValue)?t._i(t.dataValue,null)>-1:t.dataValue},on:{change:function(a){var e=t.dataValue,r=a.target,s=!!r.checked;if(Array.isArray(e)){var o=null,n=t._i(e,o);r.checked?n<0&&(t.dataValue=e.concat([o])):n>-1&&(t.dataValue=e.slice(0,n).concat(e.slice(n+1)))}else t.dataValue=s}}}):"radio"===t.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{name:t.name,placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.dataValue,null)},on:{change:function(a){t.dataValue=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{name:t.name,placeholder:t.placeholder,type:t.type},domProps:{value:t.dataValue},on:{input:function(a){a.target.composing||(t.dataValue=a.target.value)}}})])},u=[],m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"form__label"},[t._t("default"),e("span",{staticClass:"form__value"},[t._v(t._s(t.label))]),t.error?e("span",{staticClass:"form__error"},[t._v(t._s(t.error))]):t._e()],2)},d=[],p={props:{label:String,error:String}},_=p,f=e("2877"),v=Object(f["a"])(_,m,d,!1,null,null,null),b=v.exports,h={components:{VFormField:b},props:{label:String,error:String,placeholder:String,name:String,value:String},computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},C={mixins:[h],props:{type:{type:String,default:"text"}}},g=C,V=Object(f["a"])(g,c,u,!1,null,null,null),y=V.exports,x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VFormField",{attrs:{label:t.label,error:t.error}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input form__input--area",attrs:{name:t.name,placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(a){a.target.composing||(t.dataValue=a.target.value)}}})])},k=[],E={mixins:[h]},O=E,D=Object(f["a"])(O,x,k,!1,null,null,null),j=D.exports,$=e("2f62"),w=e("54c6"),I=e("e0b6"),N=e("5b8a"),P=e("8d17"),S={name:"OrderPage",components:{Preloader:P["a"],VBreadcrumbs:l["a"],OrderItem:i["a"],VInput:y,VTextarea:j},filters:{numberFormat:w["a"]},data:function(){return{formData:{},formError:{},formErrorMessage:"",isSending:!1}},computed:Object(n["a"])(Object(n["a"])({},Object($["c"])({products:"cartDetailProducts",totalPrice:"cartTotalPrice",cartAmount:"cartAmount"})),{},{contentInfoText:function(){return Object(I["a"])("товар",this.cartAmount,"Корзина пуста")},breadcrumbsList:function(){return[{pageName:"Каталог",routeName:"main"},{pageName:"Корзина",routeName:"cart"},{pageName:"Оформление заказа",routeName:"order"}]}}),methods:Object(n["a"])(Object(n["a"])({},Object($["d"])(["resetCartProduct","updateOrderInfo"])),{},{sendOrder:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e,r,s,o,n,l,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.formError={},t.formErrorMessage="",t.isSending=!0,a.prev=3,a.next=6,Object(N["b"])(t.formData);case 6:return e=a.sent,t.resetCartProduct(),t.updateOrderInfo(e.data),t.formData={},a.next=12,t.$router.push({name:"orderInfo",params:{id:e.data.id}});case 12:a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](3),t.formError=(null===(r=a.t0.response)||void 0===r||null===(s=r.data)||void 0===s||null===(o=s.error)||void 0===o?void 0:o.request)||{},t.formErrorMessage=(null===(n=a.t0.response)||void 0===n||null===(l=n.data)||void 0===l||null===(i=l.error)||void 0===i?void 0:i.message)||"",console.error(a.t0);case 19:return a.prev=19,t.isSending=!1,a.finish(19);case 22:case"end":return a.stop()}}),a,null,[[3,14,19,22]])})))()}})},F=S,A=Object(f["a"])(F,r,s,!1,null,null,null);a["default"]=A.exports},"4fdb":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"cart__order"},[e("h3",[t._v(t._s(t.item.product.title))]),e("b",[t._v(t._s(t._f("numberFormat")(t.item.amount*t.item.product.price))+" ₽")]),e("span",[t._v("Артикул: "+t._s(t.item.product.id))])])},s=[],o=e("93a7"),n={mixins:[o["a"]]},l=n,i=e("2877"),c=Object(i["a"])(l,r,s,!1,null,null,null);a["a"]=c.exports},"54c6":function(t,a,e){"use strict";function r(t){return(new Intl.NumberFormat).format(t)}e.d(a,"a",(function(){return r}))},9205:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"breadcrumbs"},t._l(t.breadcrumbsList,(function(a,r){return e("li",{key:r,staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:a.routeName,params:a.params}}},[t._v(" "+t._s(a.pageName)+" ")])],1)})),0)},s=[],o={name:"VBreadcrumbs",props:{breadcrumbsList:{type:Array,required:!0}}},n=o,l=e("2877"),i=Object(l["a"])(n,r,s,!1,null,null,null);a["a"]=i.exports},"93a7":function(t,a,e){"use strict";var r=e("54c6");a["a"]={props:{item:Object},filters:{numberFormat:r["a"]}}},e0b6:function(t,a,e){"use strict";e("99af");a["a"]=function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Товаров нет";if(!a)return e;var r="ов";a%10===1?r="":a%10!==2&&a%10!==3&&a%10!==4||a%100>=11&&a%100<=19||(r="а");var s=t+r;return"".concat(a," ").concat(s)}}}]);
//# sourceMappingURL=chunk-0c955146.ca77a0ed.js.map