(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09ff1a8b"],{2131:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return c}));var a=r("db04"),n="products",o="productCategories";function s(t){return Object(a["b"])(n,t)}function i(t){return Object(a["c"])(n,t)}function c(){return Object(a["b"])(o)}},"408a":function(t,e,r){var a=r("e330");t.exports=a(1..valueOf)},"54c6":function(t,e,r){"use strict";function a(t){return(new Intl.NumberFormat).format(t)}r.d(e,"a",(function(){return a}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("e330"),n=r("1d80"),o=r("577e"),s=r("5899"),i=a("".replace),c="["+s+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),p=function(t){return function(e){var r=o(n(e));return 1&t&&(r=i(r,l,"")),2&t&&(r=i(r,u,"")),r}};t.exports={start:p(1),end:p(2),trim:p(3)}},"6ccf":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top content__top--catalog"},[r("h1",{staticClass:"content__title"},[t._v("Каталог")]),r("span",{staticClass:"content__info"},[t._v(" "+t._s(t.contentInfoText)+" ")])]),r("div",{staticClass:"content__catalog"},[r("ProductFilter",{attrs:{priceFrom:t.filterPriceFrom,priceTo:t.filterPriceTo,categoryId:t.filterCategoryId,color:t.filterColorId},on:{"update:priceFrom":function(e){t.filterPriceFrom=e},"update:price-from":function(e){t.filterPriceFrom=e},"update:priceTo":function(e){t.filterPriceTo=e},"update:price-to":function(e){t.filterPriceTo=e},"update:categoryId":function(e){t.filterCategoryId=e},"update:category-id":function(e){t.filterCategoryId=e},"update:color":function(e){t.filterColorId=e}}}),r("section",{staticClass:"catalog"},[t.loading?r("Preloader"):t._e(),t.requestError?r("div",[t._v("Произошла ошибка при загрузке товаров!")]):t._e(),t.requestError?r("button",{staticClass:"button button--primery",on:{click:t.loadProducts}},[t._v(" Попробовать еще ")]):t._e(),t.products.length?r("ProductList",{attrs:{products:t.products}}):t._e(),t.products.length?r("VPagination",{attrs:{count:t.countProducts,"per-page":t.productsPerPage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)],1)])},n=[],o=r("1da1"),s=r("5530"),i=(r("96cf"),r("d81d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("aside",{staticClass:"filter"},[r("h2",{staticClass:"filter__title"},[t._v("Фильтры")]),r("form",{staticClass:"filter__form form",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Цена")]),r("label",{staticClass:"form__label form__label--price"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPriceFrom,expression:"currentPriceFrom",modifiers:{number:!0}}],staticClass:"form__input",attrs:{type:"text",name:"min-price"},domProps:{value:t.currentPriceFrom},on:{input:function(e){e.target.composing||(t.currentPriceFrom=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("span",{staticClass:"form__value"},[t._v("От")])]),r("label",{staticClass:"form__label form__label--price"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPriceTo,expression:"currentPriceTo",modifiers:{number:!0}}],staticClass:"form__input",attrs:{type:"text",name:"max-price"},domProps:{value:t.currentPriceTo},on:{input:function(e){e.target.composing||(t.currentPriceTo=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("span",{staticClass:"form__value"},[t._v("До")])])]),r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Категория")]),r("label",{staticClass:"form__label form__label--select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.currentCategoryId,expression:"currentCategoryId"}],staticClass:"form__select",attrs:{type:"text",name:"category"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentCategoryId=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"0"}},[t._v("Все категории")]),t._l(t.productCategories,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])}))],2)])]),t.colorsList.length?r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Цвет")]),r("VColorList",{attrs:{colors:t.colorsList},model:{value:t.currentColorId,callback:function(e){t.currentColorId=e},expression:"currentColorId"}})],1):t._e(),t._m(0),r("button",{staticClass:"filter__submit button button--primery",attrs:{type:"submit"}},[t._v(" Применить ")]),r("button",{staticClass:"filter__reset button button--second",attrs:{type:"button"},on:{click:t.reset}},[t._v(" Сбросить ")])])])}),c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Объемб в ГБ")]),r("ul",{staticClass:"check-list"},[r("li",{staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label"},[r("input",{staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"volume",value:"8",checked:""}}),r("span",{staticClass:"check-list__desc"},[t._v(" 8 "),r("span",[t._v("(313)")])])])]),r("li",{staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label"},[r("input",{staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"volume",value:"16"}}),r("span",{staticClass:"check-list__desc"},[t._v(" 16 "),r("span",[t._v("(461)")])])])]),r("li",{staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label"},[r("input",{staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"volume",value:"32"}}),r("span",{staticClass:"check-list__desc"},[t._v(" 32 "),r("span",[t._v("(313)")])])])]),r("li",{staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label"},[r("input",{staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"volume",value:"64"}}),r("span",{staticClass:"check-list__desc"},[t._v(" 64 "),r("span",[t._v("(313)")])])])]),r("li",{staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label"},[r("input",{staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"volume",value:"128"}}),r("span",{staticClass:"check-list__desc"},[t._v(" 128 "),r("span",[t._v("(313)")])])])]),r("li",{staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label"},[r("input",{staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"volume",value:"264"}}),r("span",{staticClass:"check-list__desc"},[t._v(" 264 "),r("span",[t._v("(313)")])])])])])])}],l=r("fc22"),u=r("2131"),p=r("db04"),d="colors";function _(){return Object(p["b"])(d)}var f={components:{VColorList:l["a"]},props:["priceFrom","priceTo","categoryId","color"],data:function(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColorId:0,productCategories:[],colorsList:[]}},methods:{submit:function(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:color",this.currentColorId)},reset:function(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:color",0)},loadProductsCategories:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["a"])();case 3:r=e.sent,t.productCategories=r.data.items,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},loadColorsList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:r=e.sent,t.colorsList=r.data.items,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},watch:{priceFrom:function(t){this.currentPriceFrom=t},priceTo:function(t){this.currentPriceTo=t},categoryId:function(t){this.currentCategoryId=t},color:function(t){this.currentColor=t}},mounted:function(){this.loadProductsCategories(),this.loadColorsList()}},m=f,g=r("2877"),h=Object(g["a"])(m,i,c,!1,null,null,null),v=h.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"catalog__list"},t._l(t.products,(function(t){return r("ProductListItem",{key:t.id,attrs:{product:t}})})),1)},C=[],k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"catalog__item"},[r("router-link",{staticClass:"catalog__pic",attrs:{to:{name:"product",params:{id:t.product.id}}}},[r("img",{attrs:{src:t.product.image,alt:t.product.title}})]),r("h3",{staticClass:"catalog__title"},[r("router-link",{attrs:{to:{name:"product",params:{id:t.product.id}}}},[t._v(" "+t._s(t.product.title)+" ")])],1),r("span",{staticClass:"catalog__price"},[t._v(" "+t._s(t._f("numberFormat")(t.product.price))+" ₽ ")]),r("VColorList",{staticClass:"colors--black",attrs:{colors:t.product.colors}})],1)},P=[],y=r("54c6"),I={name:"ProductListItem",components:{VColorList:l["a"]},filters:{numberFormat:y["a"]},props:{product:{type:Object,default:new Object}}},x=I,w=Object(g["a"])(x,k,P,!1,null,null,null),F=w.exports,T={components:{ProductListItem:F},props:{products:{type:Array,default:function(){return[]}}}},E=T,N=Object(g["a"])(E,b,C,!1,null,null,null),O=N.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"catalog__pagination pagination"},[r("li",{staticClass:"pagination__item"},[r("button",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":t.isFirstPage},attrs:{disabled:t.isFirstPage,"aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.paginate(t.page-1)}}},[r("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-arrow-left"}})])])]),t._l(t.totalPage,(function(e){return r("li",{key:e,staticClass:"pagination__item"},[r("a",{staticClass:"pagination__link",class:{"pagination__link--current":e===t.page},attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.paginate(e)}}},[t._v(" "+t._s(e)+" ")])])})),r("li",{staticClass:"pagination__item"},[r("button",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":t.isLastPage},attrs:{disabled:t.isLastPage,"aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.paginate(t.page+1)}}},[r("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])])],2)},j=[],$=(r("a9e3"),{model:{prop:"page",event:"paginate"},props:{page:Number,count:Number,perPage:Number},computed:{totalPage:function(){return Math.ceil(this.count/this.perPage)},isFirstPage:function(){return 1===this.page},isLastPage:function(){return this.page===this.totalPage}},methods:{paginate:function(t){this.$emit("paginate",t)}}}),R=$,V=Object(g["a"])(R,L,j,!1,null,null,null),A=V.exports,D=r("8d17"),q=r("e0b6"),S={components:{Preloader:D["a"],ProductFilter:v,ProductList:O,VPagination:A},data:function(){return{filterPriceFrom:0,filterPriceTo:0,filterCategoryId:0,filterColorId:0,page:1,productsPerPage:6,productsData:null,loading:!1,requestError:!1}},computed:{products:function(){var t;return(null===(t=this.productsData)||void 0===t?void 0:t.items.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{image:t.image.file.url})})))||[]},countProducts:function(){var t,e;return(null===(t=this.productsData)||void 0===t||null===(e=t.pagination)||void 0===e?void 0:e.total)||0},contentInfoText:function(){return Object(q["a"])("товар",this.countProducts)},queryParams:function(){return{page:this.page,limit:this.productsPerPage,minPrice:this.filterPriceFrom,maxPrice:this.filterPriceTo,categoryId:this.filterCategoryId,colorId:this.filterColorId}}},methods:{loadProducts:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:clearTimeout(t.timeoutLoadProducts),t.loading=!0,t.requestError=!1,t.productsData=null,t.timeoutLoadProducts=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])(t.queryParams);case 3:r=e.sent,t.productsData=r.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.requestError=!0;case 10:return e.prev=10,t.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])}))),1e3);case 5:case"end":return e.stop()}}),e)})))()}},watch:{page:function(){this.loadProducts()},filterPriceFrom:function(){this.loadProducts()},filterPriceTo:function(){this.loadProducts()},filterCategoryId:function(){this.loadProducts()},filterColorId:function(){this.loadProducts()}},created:function(){this.loadProducts()}},M=S,U=Object(g["a"])(M,a,n,!1,null,null,null);e["default"]=U.exports},a9e3:function(t,e,r){"use strict";var a=r("83ab"),n=r("da84"),o=r("e330"),s=r("94ca"),i=r("6eeb"),c=r("1a2d"),l=r("7156"),u=r("3a9b"),p=r("d9b5"),d=r("c04e"),_=r("d039"),f=r("241c").f,m=r("06cf").f,g=r("9bf2").f,h=r("408a"),v=r("58a8").trim,b="Number",C=n[b],k=C.prototype,P=n.TypeError,y=o("".slice),I=o("".charCodeAt),x=function(t){var e=d(t,"number");return"bigint"==typeof e?e:w(e)},w=function(t){var e,r,a,n,o,s,i,c,l=d(t,"number");if(p(l))throw P("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=v(l),e=I(l,0),43===e||45===e){if(r=I(l,2),88===r||120===r)return NaN}else if(48===e){switch(I(l,1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(o=y(l,2),s=o.length,i=0;i<s;i++)if(c=I(o,i),c<48||c>n)return NaN;return parseInt(o,a)}return+l};if(s(b,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var F,T=function(t){var e=arguments.length<1?0:C(x(t)),r=this;return u(k,r)&&_((function(){h(r)}))?l(Object(e),r,T):e},E=a?f(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;E.length>N;N++)c(C,F=E[N])&&!c(T,F)&&g(T,F,m(C,F));T.prototype=k,k.constructor=T,i(n,b,T)}},e0b6:function(t,e,r){"use strict";r("99af");e["a"]=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Товаров нет";if(!e)return r;var a="ов";e%10===1?a="":e%10!==2&&e%10!==3&&e%10!==4||e%100>=11&&e%100<=19||(a="а");var n=t+a;return"".concat(e," ").concat(n)}},fc22:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"colors"},t._l(t.colors,(function(e){return r("VColorListItem",{key:e.id,attrs:{color:e},on:{onChange:t.setCurrentColor}})})),1)},n=[],o=(r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"colors__item"},[r("label",{staticClass:"colors__label"},[r("input",{staticClass:"colors__radio sr-only",attrs:{type:"radio",name:"color"},domProps:{value:t.color.id},on:{change:function(e){return t.onChange(e.target.value)}}}),r("span",{staticClass:"colors__value",style:{"background-color":t.color.code}})])])}),s=[],i={props:{color:{type:Object,required:!0}},methods:{onChange:function(t){this.$emit("onChange",t)}}},c=i,l=r("2877"),u=Object(l["a"])(c,o,s,!1,null,null,null),p=u.exports,d={model:{prop:"currentColorId",event:"setCurrentColor"},components:{VColorListItem:p},props:{colors:Array,currentColorId:Number},methods:{setCurrentColor:function(t){this.$emit("setCurrentColor",t)}}},_=d,f=Object(l["a"])(_,a,n,!1,null,null,null);e["a"]=f.exports}}]);
//# sourceMappingURL=chunk-09ff1a8b.21d217b0.js.map